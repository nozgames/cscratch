//
// Auto-generated asset manifest - DO NOT EDIT MANUALLY
// Generated by NoZ Game Engine Asset Importer
//

// @includes
#include <noz/noz.h>
#include "assets.h"

// @globals
static Allocator* g_asset_allocator = nullptr;

// @assets
LoadedAssets Assets = {};

// @init
bool LoadAssets(size_t arena_size)
{
    if (g_asset_allocator != nullptr)
        return false; // Already initialized

    if (arena_size > 0)
    {
        g_asset_allocator = CreateArenaAllocator(arena_size);
        if (!g_asset_allocator)
            return false;
    }

    NOZ_LOAD_FONT("fonts/Roboto-Black", Assets.fonts.roboto_black);
    NOZ_LOAD_MESH("meshes/buildings/chestsmall", Assets.meshes.buildings.chestsmall);
    NOZ_LOAD_MESH("meshes/buildings/conveyor", Assets.meshes.buildings.conveyor);
    NOZ_LOAD_MESH("meshes/buildings/extractor", Assets.meshes.buildings.extractor);
    NOZ_LOAD_MESH("meshes/buildings/stone", Assets.meshes.buildings.stone);
    NOZ_LOAD_MESH("meshes/cursors/DefaultCursor", Assets.meshes.cursors.defaultcursor);
    NOZ_LOAD_MESH("meshes/cursors/PickaxeCursor", Assets.meshes.cursors.pickaxecursor);
    NOZ_LOAD_MESH("meshes/resources/stoneore", Assets.meshes.resources.stoneore);
    NOZ_LOAD_MESH("meshes/tiles/ore", Assets.meshes.tiles.ore);
    NOZ_LOAD_SHADER("shaders/border_effect", Assets.shaders.border_effect);
    NOZ_LOAD_SHADER("shaders/default", Assets.shaders._default);
    NOZ_LOAD_SHADER("shaders/gamma", Assets.shaders.gamma);
    NOZ_LOAD_SHADER("shaders/gizmo", Assets.shaders.gizmo);
    NOZ_LOAD_SHADER("shaders/lit", Assets.shaders.lit);
    NOZ_LOAD_SHADER("shaders/shadow", Assets.shaders.shadow);
    NOZ_LOAD_SHADER("shaders/text", Assets.shaders.text);
    NOZ_LOAD_SHADER("shaders/ui", Assets.shaders.ui);
    NOZ_LOAD_SHADER("shaders/vignette", Assets.shaders.vignette);
    NOZ_LOAD_TEXTURE("textures/grid", Assets.textures.grid);
    NOZ_LOAD_TEXTURE("textures/icons/meshes/buildings/extractor", Assets.textures.icons.meshes.buildings.extractor);
    NOZ_LOAD_TEXTURE("textures/icons/meshes/buildings/Stone", Assets.textures.icons.meshes.buildings.stone);
    NOZ_LOAD_TEXTURE("textures/palette", Assets.textures.palette);
    NOZ_LOAD_STYLE_SHEET("ui/common", Assets.ui.common);
    NOZ_LOAD_STYLE_SHEET("ui/hud", Assets.ui.hud);
    NOZ_LOAD_STYLE_SHEET("ui/inventory", Assets.ui.inventory);

    // Setup renderer globals from config
    SetShadowPassShader(Assets.shaders.shadow);
    SetGammaPassShader(Assets.shaders.gamma);

    return true;
}

// @uninit
void UnloadAssets()
{
    if (g_asset_allocator != nullptr)
    {
        Destroy(g_asset_allocator);
        g_asset_allocator = nullptr;
        
        // Clear all asset pointers
        memset(&Assets, 0, sizeof(Assets));
    }
}
